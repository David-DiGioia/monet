/*
The first two descriptor sets (for camera/scene data and object matrices) are common to all objects, so for the material we only describe the bindings to descriptor set 2

render to texture syntax:

render_to_texture:
material_to_sample_from
out_texture_name
out_texture_resolution
use_mip_map
is_cube_map
vertex_shader_path
fragment_shader_path
END
*/

// We need this material in order to create the cubemap
name:	equirectangular
vert:	equirectangular.vert.spv
frag:	equirectangular.frag.spv
bind:	0
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
//	path:	../hdri/8k_stars.jpg
	path:	../hdri/wide_street_01_4k.hdr
	format:	R32G32B32A32_SFLOAT
END

// first create normal cubemap
render_to_texture:
equirectangular
cubemap
1024
true
true
equirect_to_cubemap.vert.spv
equirect_to_cubemap.frag.spv
END


// then create a material using that cubemap
name:	cubemap
vert:	cubemap.vert.spv
frag:	cubemap.frag.spv
bind:	0
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	cubemap
	format:	R32G32B32A32_SFLOAT
END

// now create the irradiance map sampling from the cubemap material we just made
render_to_texture:
cubemap
irradiance_map
512
false
true
cubemap_to_irradiance.vert.spv
cubemap_to_irradiance.frag.spv
END

// now create pre-filtered environment map
render_to_texture:
cubemap
prefiltered_environment_map
256
true
true
cubemap_to_irradiance.vert.spv
prefilter_environment.frag.spv
END

// create integrated brdf map
render_to_texture:
cubemap
integrated_brdf_map
512
false
false
cubemap_to_irradiance.vert.spv
integrate_brdf.frag.spv
END

// test any cubemap texture
name:	testCubemapMat
vert:	cubemap.vert.spv
frag:	cubemap.frag.spv
bind:	0
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	cubemap
	format:	R32G32B32A32_SFLOAT
END

// ----------------------------------------------------------------------------------------


// coffee cart scene
/*
name:	coffee_cart
vert:	pbr.vert.spv
frag:	pbr.frag.spv
// diffuse
bind:	0
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	coffee_cart/textures/Kitchen_Cart_Base_Color.png
	format:	R8G8B8A8_SRGB
// normal
bind:	1
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	coffee_cart/textures/Kitchen_Cart_Normal_DirectX.png
	format:	R8G8B8A8_UNORM
// roughness
bind:	2
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	coffee_cart/textures/Kitchen_Cart_Roughness.png
	format:	R8G8B8A8_UNORM
// ao
bind:	3
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	_default/textures/_ao__.png
	format:	R8G8B8A8_UNORM
// metallic
bind:	4
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	coffee_cart/textures/Kitchen_Cart_Metallic.png
	format:	R8G8B8A8_UNORM

// irradiance map
bind:	5
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	irradiance_map
	format:	R32G32B32A32_SFLOAT
// prefiltered map
bind:	6
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	prefiltered_environment_map
	format:	R32G32B32A32_SFLOAT
// BRDF LUT
bind:	7
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	integrated_brdf_map
	format:	R32G32B32A32_SFLOAT
END


name:	coffee_accessories
vert:	pbr.vert.spv
frag:	pbr.frag.spv
// diffuse
bind:	0
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	coffee_accessories/textures/Accessories_Base_Color.png
	format:	R8G8B8A8_SRGB
// normal
bind:	1
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	coffee_accessories/textures/Accessories_Normal_DirectX.png
	format:	R8G8B8A8_UNORM
// roughness
bind:	2
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	coffee_accessories/textures/Accessories_Roughness.png
	format:	R8G8B8A8_UNORM
// ao
bind:	3
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	_default/textures/_ao__.png
	format:	R8G8B8A8_UNORM
// metallic
bind:	4
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	coffee_accessories/textures/Accessories_Metallic.png
	format:	R8G8B8A8_UNORM

// irradiance map
bind:	5
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	irradiance_map
	format:	R32G32B32A32_SFLOAT
// prefiltered map
bind:	6
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	prefiltered_environment_map
	format:	R32G32B32A32_SFLOAT
// BRDF LUT
bind:	7
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	integrated_brdf_map
	format:	R32G32B32A32_SFLOAT
END


name:	sphere
vert:	pbr.vert.spv
frag:	pbr.frag.spv
// diffuse
bind:	0
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	_default/textures/_diff.png
	format:	R8G8B8A8_SRGB
// normal
bind:	1
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	_default/textures/_norm.png
	format:	R8G8B8A8_UNORM
// roughness
bind:	2
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	sphere/textures/_roug.png
	format:	R8G8B8A8_UNORM
// ao
bind:	3
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	_default/textures/_ao__.png
	format:	R8G8B8A8_UNORM
// metallic
bind:	4
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	_default/textures/_meta.png
	format:	R8G8B8A8_UNORM

// irradiance map
bind:	5
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	irradiance_map
	format:	R32G32B32A32_SFLOAT
// prefiltered map
bind:	6
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	prefiltered_environment_map
	format:	R32G32B32A32_SFLOAT
// BRDF LUT
bind:	7
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	integrated_brdf_map
	format:	R32G32B32A32_SFLOAT
END
*/

// camera scene
/*
name:	camera
vert:	pbr.vert.spv
frag:	pbr.frag.spv
// diffuse
bind:	0
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	camera/textures/Camera_01_8-bit_Diffuse.png
	format:	R8G8B8A8_SRGB
// normal
bind:	1
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	camera/textures/Camera_01_8-bit_Normal.png
	format:	R8G8B8A8_UNORM
// roughness
bind:	2
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	camera/textures/Camera_01_8-bit_Roughness.png
	format:	R8G8B8A8_UNORM
// ao
bind:	3
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	_default/textures/_ao__.png
	format:	R8G8B8A8_UNORM
// metallic
bind:	4
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	camera/textures/Camera_01_8-bit_Metallic.png
	format:	R8G8B8A8_UNORM

// irradiance map
bind:	5
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	irradiance_map
	format:	R32G32B32A32_SFLOAT
// prefiltered map
bind:	6
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	prefiltered_environment_map
	format:	R32G32B32A32_SFLOAT
// BRDF LUT
bind:	7
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	integrated_brdf_map
	format:	R32G32B32A32_SFLOAT
END


name:	camera_lense
vert:	pbr.vert.spv
frag:	pbr.frag.spv
// diffuse
bind:	0
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	camera_lense/textures/Camera_01_Lens_8-bit_Diffuse.png
	format:	R8G8B8A8_SRGB
// normal
bind:	1
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	camera_lense/textures/Camera_01_Lens_8-bit_Normal.png
	format:	R8G8B8A8_UNORM
// roughness
bind:	2
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	camera_lense/textures/Camera_01_Lens_8-bit_Roughness.png
	format:	R8G8B8A8_UNORM
// ao
bind:	3
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	_default/textures/_ao__.png
	format:	R8G8B8A8_UNORM
// metallic
bind:	4
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	camera_lense/textures/Camera_01_Lens_8-bit_Metallic.png
	format:	R8G8B8A8_UNORM

// irradiance map
bind:	5
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	irradiance_map
	format:	R32G32B32A32_SFLOAT
// prefiltered map
bind:	6
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	prefiltered_environment_map
	format:	R32G32B32A32_SFLOAT
// BRDF LUT
bind:	7
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	integrated_brdf_map
	format:	R32G32B32A32_SFLOAT
END


name:	camera_strap
vert:	pbr.vert.spv
frag:	pbr.frag.spv
// diffuse
bind:	0
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	camera_strap/textures/Camera_01_StrapCover_8-bit_Diffuse.png
	format:	R8G8B8A8_SRGB
// normal
bind:	1
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	camera_strap/textures/Camera_01_StrapCover_8-bit_Normal.png
	format:	R8G8B8A8_UNORM
// roughness
bind:	2
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	camera_strap/textures/Camera_01_StrapCover_8-bit_Roughness.png
	format:	R8G8B8A8_UNORM
// ao
bind:	3
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	_default/textures/_ao__.png
	format:	R8G8B8A8_UNORM
// metallic
bind:	4
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	camera_strap/textures/Camera_01_StrapCover_8-bit_Metallic.png
	format:	R8G8B8A8_UNORM

// irradiance map
bind:	5
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	irradiance_map
	format:	R32G32B32A32_SFLOAT
// prefiltered map
bind:	6
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	prefiltered_environment_map
	format:	R32G32B32A32_SFLOAT
// BRDF LUT
bind:	7
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	integrated_brdf_map
	format:	R32G32B32A32_SFLOAT
END
*/



// furniture scene

name:	default
vert:	pbr.vert.spv
frag:	pbr.frag.spv
// diffuse
bind:	0
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
//	path:	_default/textures/_diff.png
	path:	plane/textures/cobblestone_floor_001_2k_diff.jpg
	format:	R8G8B8A8_SRGB
// normal
bind:	1
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
//	path:	_default/textures/_norm.png
	path:	plane/textures/cobblestone_floor_001_2k_norm.jpg
	format:	R8G8B8A8_UNORM
// roughness
bind:	2
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
//	path:	_default/textures/_roug.png
	path:	plane/textures/cobblestone_floor_001_2k_roug.jpg
	format:	R8G8B8A8_UNORM
// ao
bind:	3
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	_default/textures/_ao__.png
	format:	R8G8B8A8_UNORM
// metallic
bind:	4
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	_default/textures/_meta.png
	format:	R8G8B8A8_UNORM

// irradiance map
bind:	5
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	irradiance_map
	format:	R32G32B32A32_SFLOAT
// prefiltered map
bind:	6
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	prefiltered_environment_map
	format:	R32G32B32A32_SFLOAT
// BRDF LUT
bind:	7
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	integrated_brdf_map
	format:	R32G32B32A32_SFLOAT
END


name:	bed
vert:	pbr.vert.spv
frag:	pbr.frag.spv
// diffuse
bind:	0
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	bed/textures/GothicBed_01_8-bit_diff.png
	format:	R8G8B8A8_SRGB
// normal
bind:	1
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	bed/textures/GothicBed_01_8-bit_norm.png
	format:	R8G8B8A8_UNORM
// roughness
bind:	2
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	bed/textures/GothicBed_01_8-bit_roug.png
	format:	R8G8B8A8_UNORM
// ao
bind:	3
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	bed/textures/GothicBed_01_8-bit_ao__.png
	format:	R8G8B8A8_UNORM
// metallic
bind:	4
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	_default/textures/_meta.png
	format:	R8G8B8A8_UNORM

// irradiance map
bind:	5
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	irradiance_map
	format:	R32G32B32A32_SFLOAT
// prefiltered map
bind:	6
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	prefiltered_environment_map
	format:	R32G32B32A32_SFLOAT
// BRDF LUT
bind:	7
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	integrated_brdf_map
	format:	R32G32B32A32_SFLOAT
END


name:	sofa
vert:	pbr.vert.spv
frag:	pbr.frag.spv
// diffuse
bind:	0
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	sofa/textures/sofa_02_8-bit_diff.png
	format:	R8G8B8A8_SRGB
// normal
bind:	1
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	sofa/textures/sofa_02_8-bit_norm.png
	format:	R8G8B8A8_UNORM
// roughness
bind:	2
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	sofa/textures/sofa_02_8-bit_ao_roug_meta.png
	format:	R8G8B8A8_UNORM
// ao
bind:	3
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	sofa/textures/sofa_02_8-bit_ao_roug_meta.png
	format:	R8G8B8A8_UNORM
// metallic
bind:	4
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	_default/textures/_meta.png
	format:	R8G8B8A8_UNORM

// irradiance map
bind:	5
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	irradiance_map
	format:	R32G32B32A32_SFLOAT
// prefiltered map
bind:	6
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	prefiltered_environment_map
	format:	R32G32B32A32_SFLOAT
// BRDF LUT
bind:	7
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	integrated_brdf_map
	format:	R32G32B32A32_SFLOAT
END


name:	chair
vert:	pbr.vert.spv
frag:	pbr.frag.spv
// diffuse
bind:	0
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	chair/textures/GreenChair_01_8-bit_diff.png
	format:	R8G8B8A8_SRGB
// normal
bind:	1
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	chair/textures/GreenChair_01_8-bit_norm.png
	format:	R8G8B8A8_UNORM
// roughness
bind:	2
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	chair/textures/GreenChair_01_8-bit_ao_roug_meta.png
	format:	R8G8B8A8_UNORM
// ao
bind:	3
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	chair/textures/GreenChair_01_8-bit_ao_roug_meta.png
	format:	R8G8B8A8_UNORM
// metallic
bind:	4
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	_default/textures/_meta.png
	format:	R8G8B8A8_UNORM

// irradiance map
bind:	5
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	irradiance_map
	format:	R32G32B32A32_SFLOAT
// prefiltered map
bind:	6
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	prefiltered_environment_map
	format:	R32G32B32A32_SFLOAT
// BRDF LUT
bind:	7
	type:	COMBINED_IMAGE_SAMPLER
	stage:	FRAGMENT
	path:	integrated_brdf_map
	format:	R32G32B32A32_SFLOAT
END

